# TURIPonUART 仕様

作成者: 影山 智明 (TURIP association)  
作成日: 2017年4月7日

## 留意事項

現在は日本語版が原本となります。
ただし、将来は英語版が原本になる予定です。

## 概要

TURIPonUARTは、UART上でTURIPを動作させるための仕様です。
テキストベースかつ対話式な仕様なため、人が直接TURIPモジュールとやりとりすることが可能なのが特徴です。

## 物理仕様

TURIPデバイスへの接続は、5ピンコネクタを用いて接続します。
対応しているコネクタは次に挙げる通りです。

  * 1x5 2.54mmピッチピンヘッダ
  * JST GHコネクタ

ピンアサインは次の通りとなります。
4番ピンはTURIPとして用いる場合はオープンになりますが、マイコンのリセットピンなどと接続し、セルフプログラミング等に用いることが可能です。

ピン番号 | 機能
-------|-----
1      | TX
2      | RX
3      | 3.3V
4      | nc
5      | GND

## 電気的仕様

電源電圧およびロジックレベルは3.3Vです。
詳細な仕様を以下に示します。

項目             | 記号   | typ. | min | max | 単位 |
----------------|-------|------|-----|-----|-----|
電源電圧          | Vcc   | 3.3  | 3.0 | 3.5 | V   |
供給電流          | Im    | -    | -   | 1.0 | A   |
ロジック電圧(High) | Vhigh | 3.3  | 2.5 | Vcc | V   |
ロジック電圧(Low)  | Vlow  | 0.0  | 0.0 | 0.5 | V   |

## ロジック仕様

### セーフモード

TURIPデバイスは、最初にセーフモードで立ち上がります。
このときのボーレートは9600bpsです。
パリティービットはありません。

### Fullモード

高機能なプロセッサを搭載するTURIPデバイスは、より高速な通信速度を用いて通信できます。
このときのボーレートは115200bpsです。

## コマンド体系

TURIPデバイスへのコマンドは、HTTPライクなものです。
また、TURIPデバイスからの応答はJSON形式となります。

### ポートからの読み出し

TURIPデバイスからの読み込みにはgetコマンドを用います。

`get <port> [ポート番号]`

### ポートへの書き込み

TURIPデバイスへの書き込みにはpostコマンドを用います。

`post <port> [データ]`

### bridgeを介した読み出し

`get <id>/<port> [ポート番号]`

### bridgeを介した書き込み

`post <id>/<port> [データ]`
